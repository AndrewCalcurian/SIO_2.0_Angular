<div class="modal" [ngClass]="{'is-active':nueva || editar}">
    <div class="modal-background"></div>
    <div class="modal-card animate__animated animate__fadeInUp">
        <div class="modal-card-head">
            <p class="modal-card-title fuente" *ngIf="nueva">
                Nueva máquina
            </p>
            <p class="modal-card-title fuente" *ngIf="editar">
                Editar máquina
            </p>
            <button class="delete red_cross" aria-label="close" (click)="cerrar()"></button>
        </div>
        <div class="modal-card-body light">
            <div class="columns">
                <div class="column">
                    <div class="field">
                        <label class="label">Nombre de la maquina</label>
                        <div class="control">
                            <input type="text" class="input" placeholder="Nombre" [(ngModel)]="data.nombre">
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="field">
                        <label class="label">Modelo</label>
                        <div class="control">
                            <input type="text" class="input" placeholder="Modelo" [(ngModel)]="data.modelo">
                        </div>
                    </div>
                </div>
                <div class="column">
                    <div class="field">
                        <label class="label">Marca</label>
                        <div class="control">
                            <input type="text" class="input" placeholder="Marca" [(ngModel)]="data.marca">
                        </div>
                    </div>
                </div>
            </div>
            <div class="columns">
                <div class="column">
                    <div class="columns">
                        <div class="column is-3">
                            <label for="" class="label">Fases</label>
                            <div class="select">
                                <select (change)="faseSeleccionada($event.target)">
                                  <option value="#">Selecciona una fase</option>
                                  <option value="{{i}}" *ngFor="let fase of fases.fases;index as i">{{fase.nombre}}</option>
                                </select>
                            </div>
                        </div>
                        <div class="column is-2">
                            <label for="" class="label"> </label>
                            <button class="button is-info" (click)="addFase()">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                        <div class="column">
                            <div class="field">
                                <label class="label">Serial</label>
                                <div class="control">
                                    <input type="text" class="input" placeholder="Serial" [(ngModel)]="data.serial">
                                </div>
                            </div>
                        </div>
                        <div class="column">
                            <div class="field">
                                <label class="label">Año de fabricación</label>
                                <input type="number" placeholder="Año de fabricación" class="input" min="1900" max="2099" step="1" value="2023" [(ngModel)]="data.ano">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="columns">
                <div class="column is-4">
                    <div class="field is-grouped">
                        <div class="control">
                            <label class="label tooltip">Tamaño de pinza (mm)</label> <br>
                            <input type="text" class="input shorter" [(ngModel)]="PinzasSeleccionadas" width="20px">
                        </div>
                        <div class="control">
                            <label for="" class="label"> </label>
                            <button class="button is-info" (click)="addPinza()">
                                <i class="fas fa-plus"></i>
                            </button>
                        </div>
                        <div class="control">
                            <label class="label">Und/horas</label>
                            <input type="text" class="input shortest" [(ngModel)]="data.trabajo">
                        </div>
                        <div class="control">
                            <label for="" class="label tooltip">Colores</label> <br>
                            <input type="text" class="input shortest" [(ngModel)]="data.colores">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-card added animate__animated animate__fadeInUp" *ngIf="data.fases.length > 0">
        <div class="modal-card-body bg">
            <div class="columns">
                <div class="column">
                    <i class="fab fa-font-awesome-flag"></i> <strong>Fase(s):</strong>
                    <table class="table">
                        <tr *ngFor="let faseSelected of fasesQueTrabaja">
                            <td>{{faseSelected.nombre}}</td>
                            <td><i class="far fa-trash-alt red" (click)="deleteSelected(faseSelected)"></i></td>
                        </tr>
                    </table>
                </div>
                <div class="column">
                    <i class="fas fa-arrow-to-top"></i> <strong>Tamaño de pinza(s):</strong>
                    <table class="table">
                        <tr *ngFor="let faseSelected of data.pinzas;index as i">
                            <td>{{faseSelected}} mm</td>
                            <td><i class="far fa-trash-alt red" (click)="deletePinza(i)"></i></td>
                        </tr>
                    </table>
                </div>
            </div>
            <hr>
            <button class="button is-success" (click)="guardarMaquina()" *ngIf="nueva">
                <span class="icon"><i class="far fa-save"></i></span>
                <span>Guardar</span>
            </button>
            <button class="button is-success" (click)="editarMaquina()" *ngIf="editar">
                <span class="icon"><i class="fas fa-save"></i></span>
                <span>Guardar</span>
            </button>
        </div>
    </div>
</div>