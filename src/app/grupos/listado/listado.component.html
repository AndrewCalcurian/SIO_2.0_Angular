<app-nuevo-modal
[nuevo]="nuevo"
[editar]="editar"
[data]="data"
[api]="api"
(onCloseModal)="cerrarModal()">
</app-nuevo-modal>

<app-materiales
[material]="material"
(onCloseModal)="material = false"
>
</app-materiales>

<div class="container_ mt-5 ">
    <div class="card">
      <div class="card-content darker">
        <div class="card mt-5 title_">
          <!-- <span class="red-bar"></span> -->
          <div class="card-content">
            <h1 class="title blancas">
              Grupo de materiales
            </h1>
            <h2 class="subtitle blancas">
              Descripción
            </h2>
          </div>
        </div>
        <br>
        <button class="button is-info" (click)="AgregarNuevo()">
          <span class="icon">
            <i class="fas fa-plus-circle"></i>
          </span>
          <span>Grupo</span>
        </button> 
        <button class="button is-success" (click)="AgregarNuevo()">
          <span class="icon">
            <i class="fas fa-plus-circle"></i>
          </span>
          <span>Material</span>
        </button> 
        <!-- <span class="icon" (click)="AgregarNuevo()"><i class="fas fa-plus-circle blue_"></i></span> -->
        <br><br>
        <ng-container *ngFor="let fila of [].constructor(filas());index as fila_i">
          <div class="columns">
            <div class="column" *ngFor="let tarjeta of [].constructor(5);index as i">
              <ng-container *ngIf="api.grupos[(5*fila_i)+i]">
                <div class="card animate__animated animate__fadeInUp">
                  <div class="card-header">
                    <div class="card-header-title">
                      <div class="subtitle">
                        <div class="columns">
                          <div class="column is-1">
                            <i class="{{api.grupos[(5*fila_i)+i].icono}}"></i>
                          </div>
                          <div class="column">
                            {{api.grupos[(5*fila_i)+i].nombre}} <i class="fas fa-glass-whiskey indicator animate__animated animate__flash" *ngIf="api.grupos[(5*fila_i)+i].parcial"></i>
                          </div>
                        </div>                    
                      </div>
                    </div>
                  </div>
                    <!-- <div class="card-content">
                      <ng-container *ngIf="api.grupos[(5*fila_i)+i].parcial">
                        <i class="fas fa-check green"></i> Parcial
                      </ng-container>
                      <ng-container *ngIf="!api.grupos[(5*fila_i)+i].parcial">
                        <i class="fas fa-check green"></i> Completo
                      </ng-container>
                    </div> -->
                    <footer class="card-footer">
                      <a class="card-footer-item"><i class="fas fa-info-circle blue_" (click)="material = true"></i></a>
                      <a class="card-footer-item"><i class="far fa-edit green" (click)="EditarGrupo(api.grupos[(5*fila_i)+i].nombre,api.grupos[(5*fila_i)+i].icono,api.grupos[(5*fila_i)+i].parcial,api.grupos[(5*fila_i)+i]._id )"></i></a>
                      <a class="card-footer-item"><i class="far fa-trash-alt red" (click)="eliminarGrupo(api.grupos[(5*fila_i)+i]._id)"></i></a>
                    </footer>
                </div>
              </ng-container>
            </div>
          </div>
        </ng-container>

      </div>
</div>